# Validation Provider

## Параметры слота по-умолчанию с ограниченной областью видимости

| Имя               |                  Тип                   | Описание                                                                                                                       |
|-------------------|:--------------------------------------:|--------------------------------------------------------------------------------------------------------------------------------|
| values            |                `object`                | Значения формы                                                                                                                 |
| errors            |        `ErrorsMap`<sup>*</sup>         | Ошибки формы                                                                                                                   |
| dirty             |               `boolean`                | Если любое значение поля формы отличается от значения по-умолчанию                                                             |
| pristine          |               `boolean`                | Нетронутая форма (не было взаимодействия с каким-либо полем)                                                                   |
| invalid           |               `boolean`                | Если присутствуют ошибки валидации                                                                                             |
| submitted         |               `boolean`                | Была попытка отправки формы (вызов `handleSubmit`)                                                                             |
| handleSubmit      |              `() => void`              | Метод, вызывающий валидацию формы                                                                                              |
| reset             |   `(defaultValue?: object) => void`    | Метод, который сбрасывает состояние формы в первоначальное значение.<br/><br/> Могут быть переданы новые значения по-умолчанию |
| setError          | `(name: string, error: Error) => void` | Метод, который устанавливает ошибку для поля                                                                                   |
| focusInvalidField |              `() => void`              | Метод фокусирования первого поля с ошибкой                                                                                     |
| onFieldChange     |  `(name: string, value: any) => void`  | Метод, который устанавливает значение для поля                                                                                 |

<sup>*</sup> [ErrorsMap](./types.md#errorsmap)

<sup>*</sup> [Error](./types.md#error)

## Входные параметры

| Имя             | Тип                                                                   | Значение по-умолчанию | Описание                                                                                                                                                                     |
|-----------------|-----------------------------------------------------------------------|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| defaultValues   | `object`                                                              | `{}`                  | Значение формы по-умолчанию                                                                                                                                                  |
| defaultErrors   | `ErrorsMap`<sup>*</sup>                                               | `{}`                  | Ошибки формы по-умолчанию                                                                                                                                                    |
| resolver        | `(values: object) => Promise<{ values: object, errors: ErrorsMap }}>` | `null`                | Внешняя валидация формы.<br/><br/>Могут быть возвращены новые значения полей (не будут установлены, но попадут в событие `submit`). <br/>                                    |
| instantValidate | `boolean`                                                             | `false`               | По-умолчанию валидация формы начинается только после первой попытки отправить форму методом handleSubmit, если флаг установлен в `true`, то валидация будет начинаться сразу |
| resetOnUpdate   | `boolean`                                                             | `true`                | Флаг отвечается за сброс значений и ошибок формы к начальным если они изменились                                                                                             |

<sup>*</sup> [ErrorsMap](./types.md#errorsmap)

## События

| Имя     |                                                                                               Тип                                                                                                | Описание                                                            |
|---------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|---------------------------------------------------------------------|
| submit  | `(values: object, { setError: (name: string, error: Error) => void, reset: (defaultValue?: object) => void, onFieldChange: (name: string, value: any) => void, focusInvalidField: () => void })` | Отправляется после вызова `handleSubmit`, если у формы нет ошибок   |
| dirty   |                                                                                            `boolean`                                                                                             | Отправляется при каждом изменении значения переменной формы `dirty` |
| change  |                                                                                        `(values: object)`                                                                                        | Вызывается при изменении значения любого поля                       |

<sup>*</sup> [Error](./types.md#error)
