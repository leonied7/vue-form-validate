# Работа с ошибками

## Обработка ошибок

### Используя `ValidationField`

Для работы с ошибками в данных дефолтного слота присутствуют поля `errors`, `firstError`, `invalid`, `setError` для работы с ошибками

:::tip
Подробное описание и тип данных можно посмотреть [тут](../api/validation-field.md#параметры-слота-по-умолчанию-с-ограниченной-областью-видимости)
:::

<<< @/.vitepress/components/ErrorProcessingField.vue{3,6-11}

### Используя `ValidationProvider`

Для работы с ошибками в данных дефолтного слота присутствуют поля `errors`, `invalid`, `setError` для работы с ошибками

:::tip
Подробное описание и тип данных можно посмотреть [тут](../api/validation-provider.md#параметры-слота-по-умолчанию-с-ограниченной-областью-видимости)
:::

<<< @/.vitepress/components/ErrorProcessingProvider.vue{3,5-7}

### Используя `ValidationErrors`

Для работы с ошибками в данных дефолтного слота присутствуют поля `errors`, `submitted` для работы с ошибками

:::tip
Подробное описание и тип данных можно посмотреть [тут](../api/validation-errors.md#параметры-слота-по-умолчанию-с-ограниченной-областью-видимости)
:::

<<< @/.vitepress/components/ErrorProcessingErrors.vue{3,5-6}

Входной параметр `name` является не обязательным и может быть опущен, тогда будут возвращены все ошибки формы

::: warning
Ошибки устанавливаемые через `setError` сбрасываются при изменении поля или при отправке формы
:::

## Установка серверных ошибок

После прохождения клиентской валидации выкидывается событие `submit` и в него приходят, помимо `values`,
дополнительные методы. Один из них `setError` с помощью, которого можно так же установить ошибки, после
выполнения какой-либо логики.

:::tip
Подробнее о всех параметрах события `submit` можно ознакомится [тут](../api/validation-provider.md#события)
:::

```vue{2,10,12}
<template>
  <validation-provider @submit="onSubmit">
    //...
  </validation-provider>
</template>

<script>
export default {
  methods: {
    onSubmit(values, { setError }) {
      formApi.send(values).catch((error) => {
        setError('firstName', { message: error, type: 'custom' });
      })
    }
  }
}
</script>
```

## Ошибки по-умолчанию

`ValidationProvider` поддерживает передачу ошибок по-умолчанию через параметр `defaultErrors`

:::tip
При наличии ошибок по-умолчанию переводит `ValidationProvider` в вариант со параметром `instantValidate`,
то есть отображает ошибки сразу же без необходимости отправлять форму
:::

## Типы ошибок

Ошибки представляют собой следующий [формат](../api/types.md#error)

Как видно из типа ошибки, помимо `message` может быть передан `type` ошибки. Поле `type` используется
только для ваших личных целей, вы можете устанавливать любое нужное для вас значение. Типы могут быть
использованы для какой-то логики группирования или отображения ошибок
